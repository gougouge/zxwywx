<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=0" />
		<title>学生注册</title>
		<link rel="stylesheet" type="text/css" href="style/weui.css" />
	</head>
	<style type="text/css">
		.weui-cell:before {
			border-top: none;
		}
		
		input::-webkit-input-placeholder {
			text-align: center;
		}
		
		#tels i {
			display: none;
		}
		
		#mels i {
			display: none;
		}
		
		#zsnames i {
			display: none;
		}
		
		#pass i {
			display: none;
		}
		
		.xb label {
			width: 50px;
			height: 25px;
			text-align: center;
		}
		
		.ts {
			width: 100%;
			height: 50px;
			line-height: 50px;
			background-color: red;
			color: white;
			text-align: center;
			position: fixed;
			top: -50px;
			left: 0;
		}
		
		.weui-label {
			color: #757575;
		}
	</style>

	<body ontouchstart="">
		<!--头部-->
		<div class="weui-cell" style="background-color: #35495E; color: white;">
			<div class="weui-cell__hd">
				<a href="zhixuewuyouindex.html" style="color: #D1D1D1;">&lt; 返回</a>
			</div>
			<div class="weui-cell__bd" style="text-align:center;">
				学生注册
			</div>
		</div>
		<!--基本步骤-->
		<div style="background-color: #FBF9FE; padding: 20px 0;">
			<div class="weui-cells__title" style="text-align: center;">
				以下资料需要审核，请认真填写！
			</div>
			<div class="weui-cell">
				<div class="weui-cell__hd">
					<i class="weui-badge" style="background-color: green; font-style:normal; font-size: 16px;">1</i>
					<span>基本信息</span>
					<h4 style="text-align: center;">第1步</h4>
				</div>
				<div class="weui-cell__bd" style="border-top: #CFCFCF 2px solid; margin:0 2%;">

				</div>
				<div class="weui-cell__ft">
					<i class="weui-badge" style="background-color:white; border: #666666 1px solid;  font-style:normal; color: #999999; font-size: 16px;">2</i>
					<span>学校信息</span>
					<h4 style="text-align:center;">第2步</h4>
				</div>
			</div>
		</div>
		<!--表单-->
		<!--手机号-->
		<div class="weui-cells weui-cells_form" style="margin: 0;">
			<div class="weui-cell">
				<div class="weui-cell__hd"><label class="weui-label" id="tell">手机号：</label></div>
				<div class="weui-cell__bd">
					<input id="telsa" class="weui-input" type="tel" placeholder="请输入手机号" />
				</div>
				<div id="tels" class="weui-cell__ft">
					<i class="weui-icon-clear  cleals"></i>
					<i class="weui-icon-success"></i>
					<i class="weui-icon-warn"></i>
				</div>
			</div>
		</div>
		<!--email-->
		<div class="weui-cells weui-cells_form" style="margin: 0;">
			<div class="weui-cell">
				<div class="weui-cell__hd"><label class="weui-label" id="mell">Email：</label></div>
				<div class="weui-cell__bd">
					<input id="mel" class="weui-input" type="text" placeholder="请输入email" />
				</div>
				<div class="weui-cell__ft" id="mels">
					<i class="weui-icon-clear cleals"></i>
					<i class="weui-icon-success"></i>
					<i class="weui-icon-warn"></i>
				</div>
			</div>
		</div>
		<!--真实姓名-->
		<div class="weui-cells weui-cells_form" style="margin: 0;">
			<div class="weui-cell">
				<div class="weui-cell__hd"><label class="weui-label" id="zsnamel">真实姓名：</label></div>
				<div class="weui-cell__bd">
					<input id="zsname" class="weui-input" type="text" placeholder="请输入真实姓名" />
				</div>
				<div class="weui-cell__ft" id="zsnames">
					<i class="weui-icon-clear "></i>
					<i class="weui-icon-success"></i>
					<i class="weui-icon-warn"></i>
				</div>
			</div>
		</div>
		<!--登录密码-->
		<div class="weui-cells weui-cells_form" style="margin: 0;">
			<div class="weui-cell">
				<div class="weui-cell__hd"><label class="weui-label" id="passll">登录密码：</label></div>
				<div class="weui-cell__bd">
					<input id="passl" class="weui-input" value="" type="password" placeholder="请输入六位以上密码	" />
				</div>
				<div id="pass" class="weui-cell__ft">
					<i class="weui-icon-clear  clealsa"></i>
					<i class="weui-icon-success"></i>
					<i class="weui-icon-warn"></i>
				</div>
			</div>
		</div>
		<!--性别-->
		<div class="weui-cell">
			<div class="weui-cell__hd">
				<label class="weui-label">性别：</label>
			</div>
			<div class="weui-cell__bd">
				<div class="weui-cell xb">
					<label class="weui-check__label xinb" style="border: red solid 1px;">
			    			<input type="radio" name="radio1" class="weui-check" id="x11" checked="checked">男
			    		</label>
					<label class="weui-check__label xinb">
			    			<input type="radio" name="radio1" class="weui-check" id="x12" checked="checked">女
			    		</label>
				</div>
			</div>
		</div>
		<!--下一步按钮-->
		<button id="btns" class="weui-btn weui-btn_primary weui-btn_disabled">下一步</button>
		<div class="ts"></div>
		<script src="example/zepto.min.js" type="text/javascript" charset="utf-8"></script>
		<script src="js/weui.min.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript">
			$(function() {
				var cout1, cout2, cout3, cout4;
				//	   手机号
				var telsrge = /^1[3|4|5|8][0-9]\d{4,8}$/;
				$("#telsa").on("focus", function() {
					$("#tels").children("i").eq(0).show();
					$("#tels").children("i").eq(2).show();
					$("#tels").children("i").eq(1).hide();
					$("#tell").css("color", "red");
					$("#telsa").css("color", "red");
					$("#telsa").attr("placeholder", "")
					$("#tels .cleals").on("click", function() {
						$("#telsa").val("");
					})
				})

				function poth() {
					var inpval = $(this).val();
					cout1 = 0;
					if(!telsrge.test(inpval)) {
						$("#tels").children("i").eq(0).show();
						$("#tels").children("i").eq(2).show();
						$("#tels").children("i").eq(1).hide();
						$("#telsa").attr("placeholder", "请输入手机号")
						$(".ts").html("手机格式不正确，请重新输入！")
						$(".ts").css({
							"transform": "translateY(50px)",
							"transition": "all 1s"
						})
						setTimeout(function() {
							$(".ts").css({
								"transform": "translateY(0px)",
								"transition": "all 1s"
							})
						}, 3000);
					} else {
						$("#tels").children("i").eq(1).show().siblings().hide();
						$("#tell").css("color", "#757575");
						$("#telsa").css("color", "#757575");
						cout1 = 1;
						var nember = $("#telsa").val();
						sessionStorage.setItem("nember", nember);
					}
				}
				$("#telsa").on("blur", poth)
				//email
				var emlrge = /^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/;
				$("#mel").on("focus", function() {
					$("#mels").children("i").eq(0).show();
					$("#mels").children("i").eq(2).show();
					$("#mels").children("i").eq(1).hide();
					$("#mell").css("color", "red");
					$("#mel").css("color", "red");
					$("#mel").attr("placeholder", "")
					$("#mels .cleals").on("click", function() {
						$("#mel").val("");
					})
				})

				function eml() {
					var inpval = $(this).val();
					cout2 = 0;
					if(!emlrge.test(inpval)) {
						$("#mels").children("i").eq(0).show();
						$("#mels").children("i").eq(2).show();
						$("#mels").children("i").eq(1).hide();
						$("#mel").attr("placeholder", "请输入email")
						$(".ts").html("email格式不正确，请重新输入！")
						$(".ts").css({
							"transform": "translateY(50px)",
							"transition": "all 1s"
						})
						setTimeout(function() {
							$(".ts").css({
								"transform": "translateY(0px)",
								"transition": "all 1s"
							})
						}, 3000);

					} else {
						$("#mels").children("i").eq(1).show().siblings().hide();
						$("#mell").css("color", "#757575");
						$("#mel").css("color", "#757575");
						cout2 = 1;
						var email = $("#mel").val();
						sessionStorage.setItem("email", email);
					}

				}
				$("#mel").on("blur", eml);

				//真是姓名
				$("#zsname").on("focus", function() {
					$("#zsnames").children("i").eq(0).show();
					$("#zsnames").children("i").eq(2).show();
					$("#zsnames").children("i").eq(1).hide();
					$("#zsnamel").css("color", "red");
					$("#zsname").css("color", "red");
					$("#zsname").attr("placeholder", "")
					$("#zsnames .cleals").on("click", function() {
						$("#zsname").val("");
					})
				})
				var nam = /^[\u4e00-\u9fa5]{2,5}$/;

				function zsnam() {
					cout3 = 0;
					var inpval = $(this).val();
					if(!nam.test(inpval)) {
						$("#zsnames").children("i").eq(0).show();
						$("#zsnames").children("i").eq(2).show();
						$("#zsnames").children("i").eq(1).hide();
						$("#zsname").attr("placeholder", "请输入真实姓名")
						$(".ts").html("真实姓名无效")
						$(".ts").css({
							"transform": "translateY(50px)",
							"transition": "all 1s"
						})
						setTimeout(function() {
							$(".ts").css({
								"transform": "translateY(0px)",
								"transition": "all 1s"
							})
						}, 3000);
					} else {
						$("#zsnames").children("i").eq(1).show().siblings().hide();
						$("#zsnamel").css("color", "#757575");
						$("#zsname").css("color", "#757575");
						cout3 = 1;
						var name = $("#zsname").val();
						sessionStorage.setItem("name", name);
					}
				}
				$("#zsname").on("blur", zsnam);
				//		       登录密码
				var ps = /^[0-9a-zA-Z]{6,}$/;
				$("#passl").on("focus", function() {
					$("#pass").children("i").eq(0).show();
					$("#pass").children("i").eq(2).show();
					$("#pass").children("i").eq(1).hide();
					$("#passl").attr("placeholder", "");
					$("#passll").css("color", "red");
					$("#passl").css("color", "red");
					$("#pass .cleals").on("click", function() {
						$("#passl").val("");
					})
				})

				function mima() {
					var ipval = $(this).val();
					cout4 = 0;
					if(!ps.test(ipval)) {
						$("#pass").children("i").eq(0).show();
						$("#pass").children("i").eq(2).show();
						$("#pass").children("i").eq(1).hide();
						$("#passl").attr("placeholder", "请输入六位以上密码");
					} else {
						$("#pass").children("i").eq(1).show().siblings().hide();
						$("#passll").css("color", "#757575");
						$("#passl").css("color", "#757575");
						cout4 = 1;
						var passw = $("#passl").val();
						sessionStorage.setItem("pass", passw);
					}
				}
				$("#passl").on("blur", mima);
				//          性别
				$(".xinb").on("click", function() {
					$(".xinb").css("border", "none");
					$(this).css("border", "red solid 1px")
				})
				//				button点击
				$(window).on("click", function() {
					var cou;
					cou = cout1 + cout2 + cout3 + cout4;
					if(cou == 4) {
						$("#btns").removeClass("weui-btn_disabled");
					} else {
						$("#btns").addClass("weui-btn_disabled");
					}

					$("#btns").on("click", function() {
						if(!$(btns).hasClass("weui-btn_disabled")) {
							open("zxwyitregister02.html", "_self");
						}
					})
				})
			})
		</script>
	</body>

</html>